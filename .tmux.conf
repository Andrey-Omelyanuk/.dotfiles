# tmux display things in 256 colors
set -g default-terminal "xterm-256color"
set-option -g allow-rename off # stop renaming windows automatically

# Mouse support
set-option -g mouse on

# размер сохраняемой истории
set -g history-limit 20000

# make delay shorter
set -sg escape-time 0

# для плагина tmux-continuum, связан с автозапуском tmux
set -g @continuum-boot 'on'
set -g @continuum-restore 'on'

# -- Key bindings -------------------------------------------------------------


# переопределяем prefix в Ctrl + a
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# кнопки для перемещения между окон
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# используем vi кнопки для навигации по тексту
set-window-option -g mode-keys vi

# Automatically copy tmux selection to X clipboard
# bind -T copy-mode-vi 'v' send -X begin-selection
# bind -T copy-mode-vi 'y' send -X copy-pipe-and-cancel "reattach-to-user-namespace pbcopy"
# if-shell -b 'test $(uname) = "Linux"' 'bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -in -selection clipboard"'
# if-shell -b 'test $(uname) = "Darwin"' 'bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"'

# ! меняем размеры мышью, что бы не усложнять клавиши
# ! это редкая операция, так что удобнее будет мышкой выставить размеры
# кнопки для изменения размеров окон
# bind -r H resize-pane -L 5
# bind -r J resize-pane -D 5
# bind -r K resize-pane -U 5
# bind -r L resize-pane -R 5

# -- Plugins ------------------------------------------------------------------

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum' 

# Initialize TMUX plugin manager
run '~/.tmux/plugins/tpm/tpm'



# cheatsheet
#
# tmux                         - start new
# tmux new -s myname           - start new with session name
# tmux a #                     - attach
# tmux a -t myname             - attach to named
# tmux ls                      - list sessions
# tmux kill-session -t myname  - kill session
#
# ctrl+a - prefix
#
# s     - list sessions
# $     - name session
#
# c     - create tab
# w     - list tabs
# n     - next tab
# p     - prev tab
# f     - find tab
# ,     - name tab
# &     - kill tab
#
# %     - vertical split
# "     - horizontal split
# o     - swap panes
# q     - show pane numbers
# x     - kill pane
# +     - break pane into tab
# -     - restore pane from tab
# space - toggle between layouts
#
# j k l ; - move to corresponding direction pane 
#
# Ctrl+A "
# Ctrl+A 
